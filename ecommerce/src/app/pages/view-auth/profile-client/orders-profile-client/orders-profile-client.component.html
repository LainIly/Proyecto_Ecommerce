<div class="profile__ticket table-responsive">
    <table class="table">
        <thead>
            <tr>
                <th scope="col">Transaccion ID</th>
                <th scope="col">Metodo de Pago</th>
                <th scope="col">Fecha de compra</th>
                <th scope="col">Total</th>
                <th scope="col">Ver</th>
            </tr>
        </thead>
        <tbody>
            @for (sale of sales;track sale.id) {
            <tr>
                <th scope="row"> # {{ sale.n_transaccion }}</th>
                <td data-info="title">{{ sale.method_payment }}</td>
                <td scope="row">{{ sale.created_at }} </td>
                <td data-info="status pending">{{ formatPriceToCOP(sale.total) }} {{ sale.currency_payment }} </td>
                <td><a href="#" onclick="return false;" (click)="detailShow(sale)" class="tp-logout-btn">Detalles</a></td>
            </tr>
                @for (sale_detail of sale.sale_details;track sale_detail.id) {
                <tr *ngIf="sale.sale_detail_show">
                    <th scope="row">
                        <img [src]="sale_detail.product.imagen" style="width: 50px; object-fit: contain;" alt="">
                    </th>
                    <td data-info="title">{{ sale_detail.product.title }}</td>
                    <td scope="row">{{ sale_detail.quantity }}</td>
                    <td data-info="status pending">{{ formatPriceToCOP(sale_detail.subtotal) }} {{ sale_detail.currency }} </td>
                    <td data-info="status pending">{{ formatPriceToCOP(sale_detail.total) }} {{ sale_detail.currency }} </td>
                </tr>
                }
            }
        </tbody>
    </table>
</div>
