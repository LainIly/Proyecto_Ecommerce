<main>

    <!-- breadcrumb area start -->
    <section class="breadcrumb__area include-bg pt-95 pb-50">
        <div class="container">
            <div class="row">
                <div class="col-xxl-12">
                    <div class="breadcrumb__content p-relative z-index-1">
                        <h3 class="breadcrumb__title">Comparar</h3>
                        <div class="breadcrumb__list">
                            <span><a href="#">Inicio</a></span>
                            <span>Comparar</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <!-- breadcrumb area end -->


    <!-- compare area start -->
    <section class="tp-compare-area pb-120">
        <div class="container">
            <div class="row">
                <div class="col-xl-12">
                    <div class="tp-compare-table table-responsive text-center">
                        <table class="table">
                            <tbody>
                                <tr>
                                    <th>Productos</th>
                                    @for (PRODUCT of PRODUCTS; track PRODUCT.id) {
                                    <td>
                                        <div class="tp-compare-thumb">
                                            <img [src]="PRODUCT.imagen"
                                                style="width: 275px; height: 176px; object-fit: contain;">
                                            <h4 class="tp-compare-product-title">
                                                <a [routerLink]="'/producto/'+PRODUCT.slug">{{ PRODUCT.title }}</a>
                                            </h4>
                                        </div>
                                    </td>
                                    }
                                </tr>
                                <tr>
                                    <th>Descripcion</th>
                                    @for (PRODUCT of PRODUCTS; track PRODUCT.id) {
                                    <td>
                                        <div class="tp-compare-desc">
                                            <p>{{ PRODUCT.resumen }}</p>
                                        </div>
                                    </td>
                                    }
                                </tr>
                                <tr>
                                    <th>Precio</th>
                                    @for (PRODUCT of PRODUCTS; track PRODUCT.id) {
                                    <td>
                                        <div class="tp-compare-price">
                                            @if (PRODUCT.discount_g) {
                                            <span class="tp-product-price old-price mx-1">{{
                                                formatPriceToCOP(getTotalCurrency(PRODUCT)) }} {{ currency }}</span>
                                            }
                                            <span class="tp-product-price new-price">{{
                                                formatPriceToCOP(getTotalPriceProduct(PRODUCT)) }} {{ currency
                                                }}</span>
                                        </div>
                                    </td>
                                    }
                                </tr>
                                <tr>
                                    <th>Variaciones</th>
                                    @for (PRODUCT of PRODUCTS; track PRODUCT.id) {
                                    <td>
                                        <div class="tp-product-details-variation">
                                            <!-- single item -->
                                            <div class="tp-product-details-variation-item">
                                                @for (variation_p of PRODUCT.variations;track
                                                variation_p.attribute_id) {
                                                <h4 class="tp-product-details-variation-title">{{
                                                    variation_p.attribute.name }}: </h4>
                                                <div class="tp-product-details-variation-list">
                                                    @for (variation of variation_p.variations;track variation.id) {
                                                    @if (variation.propertie && variation.propertie.code) {
                                                    <button type="button" class="color tp-color-variation-btn mx-1">
                                                        <span [attr.data-bg-color]="variation.propertie.code"></span>
                                                        <span class="tp-color-variation-tootltip">{{
                                                            variation.propertie.name }}</span>
                                                    </button>
                                                    }
                                                    @if (variation.propertie && !variation.propertie.code) {
                                                    <button type="button" class="tp-size-variation-btn"
                                                        style="width: 60px;">
                                                        {{ variation.propertie.name }}
                                                    </button>
                                                    }

                                                    @if (!variation.propertie) {
                                                    <button type="button" class="tp-size-variation-btn"
                                                        style="width: 60px;">
                                                        {{ variation.value_add }}
                                                    </button>
                                                    }
                                                    }
                                                </div>
                                                }
                                            </div>
                                        </div>
                                    </td>
                                    }
                                </tr>

                                <!-- <tr> // Especificaciones
                                    <th>Especificaciones</th>
                                    @for (PRODUCT of PRODUCTS; track PRODUCT.id) {
                                    <td>
                                        @for (specification of PRODUCT.specifications;track specification.id)
                                        {
                                <tr>
                                    <td>{{ specification.attribute.name }}
                                    <td *ngIf="specification.propertie"> {{ specification.propertie.name }}
                                    </td>
                                    <td *ngIf="!specification.propertie">{{ specification.value_add }}</td>
                                </tr>
                                }
                                </td>
                                }
                                </tr> -->
                                <tr>
                                    <th>Rating</th>
                                    @for (PRODUCT of PRODUCTS; track PRODUCTS) {
                                    <td>
                                        <div class="tp-compare-rating">
                                            <span><i class="fa-solid fa-star"
                                                    [ngClass]="{'fa-start-gris': PRODUCT.avg_review < 1}"></i></span>
                                            <span><i class="fa-solid fa-star"
                                                    [ngClass]="{'fa-start-gris': PRODUCT.avg_review < 2}"></i></span>
                                            <span><i class="fa-solid fa-star"
                                                    [ngClass]="{'fa-start-gris': PRODUCT.avg_review < 3}"></i></span>
                                            <span><i class="fa-solid fa-star"
                                                    [ngClass]="{'fa-start-gris': PRODUCT.avg_review < 4}"></i></span>
                                            <span><i class="fa-solid fa-star"
                                                    [ngClass]="{'fa-start-gris': PRODUCT.avg_review < 5}"></i></span>
                                        </div>
                                    </td>
                                    }
                                </tr>
                                <tr>
                                    <th>Eliminar</th>
                                    @for (PRODUCT of PRODUCTS; track PRODUCT.id) {
                                    <td>
                                        <div class="tp-compare-remove">
                                            <button (click)="removeProduct(PRODUCT)">
                                                <i class="fal fa-trash-alt"></i>
                                            </button>
                                        </div>
                                    </td>
                                    }
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <!-- compare area end -->



</main>